box: nodesource/trusty
build:
  steps:
    - wercker/npm-install
    - script:
        name: echo nodejs information
        code: |
          echo "node version $(node -v) running"
          echo "npm version $(npm -v) running"
    - wercker/gulp
    - script:
        name: echo gulp information
        code: |
          echo "gulp version $(gulp -v) running"

    - script:
      name: Run gulp build
      code: |
        gulp generate-api-docs

deploy:
  steps:
    - install-packages:
        packages: git ssh-client liberror-perl
    - lukevivier/gh-pages:
        token:   $GITHUB_TOKEN
        basedir: public